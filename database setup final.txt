import sqlite3

def connect_database():
    # Connects to the SQLite database file. Creates the file if it doesn't exist.
    connection = sqlite3.connect("mortgage_management.db")
    return connection

def setup_database(connection):
    cursor = connection.cursor()
    
    # Create the Customers table
    cursor.execute('''
        CREATE TABLE IF NOT EXISTS Customers (
            CustomerID INTEGER PRIMARY KEY AUTOINCREMENT,
            FirstName TEXT NOT NULL,
            LastName TEXT NOT NULL,
            Address TEXT,
            PhoneNumber TEXT,
            Email TEXT UNIQUE
        )
    ''')

    # Create the Loans table
    cursor.execute('''
        CREATE TABLE IF NOT EXISTS Loans (
            LoanID INTEGER PRIMARY KEY AUTOINCREMENT,
            CustomerID INTEGER,
            LoanAmount REAL,
            LoanTerm INTEGER,
            InterestRate REAL,
            Status TEXT,
            FOREIGN KEY (CustomerID) REFERENCES Customers(CustomerID)
        )
    ''')

    connection.commit()
    print("Database setup complete.")

# Set up the database
connection = connect_database()
setup_database(connection)
connection.close()
