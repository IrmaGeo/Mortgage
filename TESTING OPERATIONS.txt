# Step 1: Connect to the database
connection = connect_database()

# Step 2: Add a customer and loan
add_customer(connection, "Alice", "Johnson", "123 Elm St", "555-1234", "alice@example.com")
add_customer(connection, "Bob", "Smith", "456 Oak St", "555-5678", "bob@example.com")

# Assuming customer IDs are 1 and 2, add loans for each
add_loan(connection, 1, 200000, 15, 4.5)
add_loan(connection, 2, 150000, 30, 3.5)

# Step 3: View all customers and loans
print("\nAll Customers:")
view_customers(connection)

print("\nAll Loans:")
view_loans(connection)

# Step 4: Update customer information
update_customer(connection, 1, phone_number="555-4321", address="789 Pine St")
update_loan(connection, 1, status="Closed")

# View updated records
print("\nUpdated Customers:")
view_customers(connection)

print("\nUpdated Loans:")
view_loans(connection)

# Step 5: Delete records
delete_loan(connection, 2)
delete_customer(connection, 2)

# Final view to confirm deletions
print("\nFinal Customers after Deletion:")
view_customers(connection)

print("\nFinal Loans after Deletion:")
view_loans(connection)

# Close the database connection
connection.close()
